<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Priority Message For You ❤️</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary: #ff4d6d;
            --bg: #fff0f3;
        }

        body {
            margin: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--bg);
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow: hidden;
        }

        .heart-bg {
            position: absolute;
            top: -10%;
            color: rgba(255, 77, 109, 0.2);
            font-size: 20px;
            animation: fall linear infinite;
            z-index: 0;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }

        #card {
            background: white;
            padding: 25px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
            z-index: 10;
            max-width: 400px;
            width: 85%;
            overflow: hidden; /* Fixes "Out of box" issue */
        }

        .img-container {
            width: 100%;
            height: 250px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 15px;
            background: #eee;
        }

        .img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Keeps images looking perfect */
        }

        h1 { color: var(--primary); font-size: 1.6rem; margin: 10px 0; }
        
        .buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            min-height: 120px;
        }

        button {
            padding: 12px 25px;
            font-size: 1.1rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        #yesBtn { background-color: var(--primary); color: white; z-index: 1000; }
        #noBtn { background-color: #808080; color: white; position: relative; }

        .hidden { display: none; }
        
        #status-msg { font-size: 0.8rem; color: #888; font-style: italic; margin-top: 10px; }
    </style>
</head>
<body>

    <div id="card">
        <div id="content">
            <div class="img-container">
                <img id="displayImg" src="me.jpg" alt="Requesting...">
            </div>
            <h1 id="question">Will you be my Valentine? ❤️</h1>
            <div class="buttons">
                <button id="yesBtn">Yes</button>
                <button id="noBtn">No</button>
            </div>
            <div id="status-msg">System Status: Waiting for input...</div>
        </div>

        <div id="successMessage" class="hidden">
            <div class="img-container">
                <img src="us.jpg" alt="Us">
            </div>
            <h1 style="font-size: 2.5rem;">HELL YES! ❤️</h1>
            <p>I knew you couldn't resist. Best choice ever.</p>
        </div>
    </div>

    <script>
        // Your 4 images from Git: us.jpg, me.jpg, her1.jpg, her2.jpg
        const reactionImages = ["her1.jpg", "her2.jpg", "me.jpg"];
        const phrases = [
            "No", "Are you sure?", "Look how cute you are!", "But I'm begging...", 
            "Really? Look at this face!", "Access Denied", "OVERRIDING...", 
            "I'll buy you dinner!", "PLEEEASE", "You're so mean lol", "Just click YES"
        ];

        let phraseIndex = 0;
        let yesSize = 1;
        let noSize = 1;

        const noBtn = document.getElementById('noBtn');
        const yesBtn = document.getElementById('yesBtn');
        const displayImg = document.getElementById('displayImg');
        const statusMsg = document.getElementById('status-msg');

        // Floating Hearts Background
        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-bg');
            heart.innerHTML = '❤️';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);
        }
        setInterval(createHeart, 300);

        // No Button Logic
        noBtn.addEventListener('mouseover', () => {
            // 1. Change Button Text
            noBtn.innerText = phrases[phraseIndex];
            
            // 2. Spicy Logic: Cycle through images of her and you while she tries to say No
            displayImg.src = reactionImages[phraseIndex % reactionImages.length];

            // 3. Make Yes Button bigger
            yesSize += 0.4;
            yesBtn.style.transform = `scale(${yesSize})`;

            // 4. Shrink No Button
            noSize -= 0.05;
            if(noSize > 0.4) noBtn.style.transform = `scale(${noSize})`;

            // 5. System Messages
            if(phraseIndex > 5) {
                statusMsg.innerText = "CRITICAL ERROR: 'No' option malfunctioning...";
                statusMsg.style.color = "red";
            }

            // 6. Move No Button
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
            noBtn.style.position = 'absolute';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;

            phraseIndex = (phraseIndex + 1) % phrases.length;
        });

        // Yes Button Logic
        yesBtn.addEventListener('click', () => {
            document.getElementById('content').classList.add('hidden');
            document.getElementById('successMessage').classList.remove('hidden');
            confetti({
                particleCount: 300,
                spread: 120,
                origin: { y: 0.6 },
                colors: ['#ff4d6d', '#ffffff', '#ff758f']
            });
        });
    </script>
</body>
</html>
